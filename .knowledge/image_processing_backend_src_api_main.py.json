{"is_source_file": true, "format": "Python", "description": "This is a fastapi-based backend source file for an image processing service. It handles image uploads, applies various processing operations such as resize, crop, blur, brightness, and contrast, and provides endpoints to retrieve original and processed images along with their metadata and variants.", "external_files": ["fastapi", "fastapi.middleware.cors", "fastapi.responses", "pydantic", "PIL.Image", "PIL.ImageFilter", "PIL.ImageOps", "PIL.ImageEnhance"], "external_methods": ["fastapi.FastAPI", "fastapi.middleware.CORS", "fastapi.responses.StreamingResponse", "pydantic.BaseModel", "pydantic.Field", "PIL.Image.open", "PIL.ImageFilter.GaussianBlur", "PIL.ImageOps.grayscale", "PIL.ImageEnhance.Brightness", "PIL.ImageEnhance.Contrast"], "published": ["health_check", "upload_image", "process_image", "list_images", "get_original_image", "list_variants", "get_processed_image"], "classes": [{"name": "ResizeOp", "description": "Resize operation with explicit width and height."}, {"name": "CropOp", "description": "Crop operation specifying top-left and dimensions."}, {"name": "BlurOp", "description": "Gaussian blur operation settings."}, {"name": "BrightnessOp", "description": "Brightness adjustment factor (1.0 keeps original)."}, {"name": "ContrastOp", "description": "Contrast adjustment factor (1.0 keeps original)."}, {"name": "Operations", "description": "Container for supported operations. Multiple can be combined."}, {"name": "UploadResponse", "description": "Response after uploading an image."}, {"name": "ProcessRequest", "description": "Request to process an existing image using one or more operations."}, {"name": "VariantInfo", "description": "Metadata for a processed variant."}, {"name": "ImageInfo", "description": "Metadata for an original image and its variants."}], "methods": [{"name": "Dict[str,str] health_check()", "description": "Basic health check endpoint returning a JSON message.", "scope": "", "scopeKind": ""}, {"name": "UploadResponse upload_image(file: UploadFile = File(...))", "description": "Handles image uploads via multipart/form-data, validates, stores, and returns image metadata.", "scope": "", "scopeKind": ""}, {"name": "VariantInfo process_image(req: ProcessRequest)", "description": "Processes an existing image with specified operations, saves as variant, and returns variant metadata.", "scope": "", "scopeKind": ""}, {"name": "List[ImageInfo] list_images(limit: int = Query(50, ge=1, le=200))", "description": "Lists recent images with brief metadata, sorted by creation time.", "scope": "", "scopeKind": ""}, {"name": "Response get_original_image(image_id: str)", "description": "Serves the bytes of the original stored image.", "scope": "", "scopeKind": ""}, {"name": "List[VariantInfo] list_variants(image_id: str)", "description": "Lists processed variants for a given image.", "scope": "", "scopeKind": ""}, {"name": "StreamingResponse get_processed_image(variant_id: str)", "description": "Streams back bytes for a processed image variant.", "scope": "", "scopeKind": ""}, {"name": "Image.Image _apply_operations(img: Image.Image, ops: Operations)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bytes _image_to_bytes(img: Image.Image, format_hint: Optional[str])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str _infer_extension(content_type: str, fallback: str = \".bin\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,Any] _load_meta()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None _save_meta(meta: Dict[str, Any])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "iterator()", "scope": "get_processed_image", "scopeKind": "function", "description": "unavailable"}], "calls": ["fastapi.FastAPI", "fastapi.get", "fastapi.post", "fastapi.responses.Response", "fastapi.responses.StreamingResponse"], "search-terms": ["image_processing_backend", "process_image", "variants", "UploadFile", "meta_store", "Operations", "apply_operations", "stored images", "image variants API"], "state": 2, "file_id": 4, "knowledge_revision": 10, "git_revision": "24f1c1931cf72f2960a71a30723a26f600a03864", "revision_history": [{"9": "24f1c1931cf72f2960a71a30723a26f600a03864"}, {"10": "24f1c1931cf72f2960a71a30723a26f600a03864"}], "ctags": [{"_type": "tag", "name": "BlurOp", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class BlurOp(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "BrightnessOp", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class BrightnessOp(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ContrastOp", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class ContrastOp(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CropOp", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class CropOp(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ImageInfo", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class ImageInfo(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "META_STORE_PATH", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^META_STORE_PATH = os.path.abspath(os.path.join(os.path.dirname(os.path.abspath(__file__)), \"..\",/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ORIGINALS_DIR", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^ORIGINALS_DIR = os.path.abspath(os.path.join(STORAGE_ROOT, \"originals\"))$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Operations", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class Operations(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PROCESSED_DIR", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^PROCESSED_DIR = os.path.abspath(os.path.join(STORAGE_ROOT, \"processed\"))$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ProcessRequest", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class ProcessRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ResizeOp", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class ResizeOp(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "STORAGE_ROOT", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^STORAGE_ROOT = os.path.join(os.path.dirname(os.path.dirname(os.path.abspath(__file__))), \"..\", \"/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "UploadResponse", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class UploadResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VariantInfo", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^class VariantInfo(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_apply_operations", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def _apply_operations(img: Image.Image, ops: Operations) -> Image.Image:$/", "language": "Python", "typeref": "typename:Image.Image", "kind": "function", "signature": "(img: Image.Image, ops: Operations)"}, {"_type": "tag", "name": "_image_to_bytes", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def _image_to_bytes(img: Image.Image, format_hint: Optional[str]) -> bytes:$/", "language": "Python", "typeref": "typename:bytes", "kind": "function", "signature": "(img: Image.Image, format_hint: Optional[str])"}, {"_type": "tag", "name": "_infer_extension", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def _infer_extension(content_type: str, fallback: str = \".bin\") -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(content_type: str, fallback: str = \".bin\")"}, {"_type": "tag", "name": "_load_meta", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def _load_meta() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_save_meta", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def _save_meta(meta: Dict[str, Any]) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(meta: Dict[str, Any])"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "blur", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    blur: Optional[BlurOp] = Field(None, description=\"Gaussian blur\")$/", "language": "Python", "typeref": "typename:Optional[BlurOp]", "kind": "variable", "scope": "Operations", "scopeKind": "class"}, {"_type": "tag", "name": "brightness", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    brightness: Optional[BrightnessOp] = Field(None, description=\"Brightness adjustment\")$/", "language": "Python", "typeref": "typename:Optional[BrightnessOp]", "kind": "variable", "scope": "Operations", "scopeKind": "class"}, {"_type": "tag", "name": "content_type", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    content_type: str = Field(..., description=\"MIME type of the uploaded file\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "content_type", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    content_type: str = Field(..., description=\"MIME type\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ImageInfo", "scopeKind": "class"}, {"_type": "tag", "name": "contrast", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    contrast: Optional[ContrastOp] = Field(None, description=\"Contrast adjustment\")$/", "language": "Python", "typeref": "typename:Optional[ContrastOp]", "kind": "variable", "scope": "Operations", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    created_at: str = Field(..., description=\"ISO timestamp when processed\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "VariantInfo", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    created_at: str = Field(..., description=\"ISO timestamp when uploaded\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ImageInfo", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    created_at: str = Field(..., description=\"ISO timestamp when uploaded\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "crop", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    crop: Optional[CropOp] = Field(None, description=\"Crop operation\")$/", "language": "Python", "typeref": "typename:Optional[CropOp]", "kind": "variable", "scope": "Operations", "scopeKind": "class"}, {"_type": "tag", "name": "factor", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    factor: float = Field(..., description=\"Brightness factor (1 keeps original)\", gt=0)$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "BrightnessOp", "scopeKind": "class"}, {"_type": "tag", "name": "factor", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    factor: float = Field(..., description=\"Contrast factor (1 keeps original)\", gt=0)$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "ContrastOp", "scopeKind": "class"}, {"_type": "tag", "name": "filename", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    filename: str = Field(..., description=\"Original filename\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "filename", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    filename: str = Field(..., description=\"Stored filename for original\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ImageInfo", "scopeKind": "class"}, {"_type": "tag", "name": "filename", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    filename: str = Field(..., description=\"Stored filename for variant\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "VariantInfo", "scopeKind": "class"}, {"_type": "tag", "name": "get_original_image", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def get_original_image(image_id: str) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "function", "signature": "(image_id: str)"}, {"_type": "tag", "name": "get_processed_image", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def get_processed_image(variant_id: str) -> StreamingResponse:$/", "language": "Python", "typeref": "typename:StreamingResponse", "kind": "function", "signature": "(variant_id: str)"}, {"_type": "tag", "name": "grayscale", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    grayscale: Optional[bool] = Field(False, description=\"Convert to grayscale\")$/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "Operations", "scopeKind": "class"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "height", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    height: int = Field(..., description=\"Crop height\", gt=0)$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "CropOp", "scopeKind": "class"}, {"_type": "tag", "name": "height", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    height: int = Field(..., description=\"Target height in pixels\", gt=0)$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ResizeOp", "scopeKind": "class"}, {"_type": "tag", "name": "image_id", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    image_id: str = Field(..., description=\"ID of the original image to process\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProcessRequest", "scopeKind": "class"}, {"_type": "tag", "name": "image_id", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    image_id: str = Field(..., description=\"Original image ID\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ImageInfo", "scopeKind": "class"}, {"_type": "tag", "name": "image_id", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    image_id: str = Field(..., description=\"Original image ID\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "VariantInfo", "scopeKind": "class"}, {"_type": "tag", "name": "image_id", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    image_id: str = Field(..., description=\"Stable ID for the uploaded image\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "iterator", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    def iterator():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "get_processed_image", "scopeKind": "function"}, {"_type": "tag", "name": "list_images", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def list_images(limit: int = Query(50, ge=1, le=200)) -> List[ImageInfo]:$/", "language": "Python", "typeref": "typename:List[ImageInfo]", "kind": "function", "signature": "(limit: int = Query(50, ge=1, le=200))"}, {"_type": "tag", "name": "list_variants", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^def list_variants(image_id: str) -> List[VariantInfo]:$/", "language": "Python", "typeref": "typename:List[VariantInfo]", "kind": "function", "signature": "(image_id: str)"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "operations", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    operations: Dict[str, Any] = Field(..., description=\"Operations applied\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "VariantInfo", "scopeKind": "class"}, {"_type": "tag", "name": "operations", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    operations: Operations = Field(..., description=\"Operations to apply\")$/", "language": "Python", "typeref": "typename:Operations", "kind": "variable", "scope": "ProcessRequest", "scopeKind": "class"}, {"_type": "tag", "name": "process_image", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^async def process_image(req: ProcessRequest) -> VariantInfo:$/", "language": "Python", "typeref": "typename:VariantInfo", "kind": "function", "signature": "(req: ProcessRequest)"}, {"_type": "tag", "name": "radius", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    radius: float = Field(..., description=\"Blur radius\", gt=0)$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "BlurOp", "scopeKind": "class"}, {"_type": "tag", "name": "resize", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    resize: Optional[ResizeOp] = Field(None, description=\"Resize operation\")$/", "language": "Python", "typeref": "typename:Optional[ResizeOp]", "kind": "variable", "scope": "Operations", "scopeKind": "class"}, {"_type": "tag", "name": "size_bytes", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    size_bytes: int = Field(..., description=\"File size in bytes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "UploadResponse", "scopeKind": "class"}, {"_type": "tag", "name": "size_bytes", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    size_bytes: int = Field(..., description=\"Size of original in bytes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ImageInfo", "scopeKind": "class"}, {"_type": "tag", "name": "size_bytes", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    size_bytes: int = Field(..., description=\"Variant file size in bytes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "VariantInfo", "scopeKind": "class"}, {"_type": "tag", "name": "upload_image", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^async def upload_image(file: UploadFile = File(...)) -> UploadResponse:$/", "language": "Python", "typeref": "typename:UploadResponse", "kind": "function", "signature": "(file: UploadFile = File(...))"}, {"_type": "tag", "name": "variant_id", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    variant_id: str = Field(..., description=\"ID of the processed variant\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "VariantInfo", "scopeKind": "class"}, {"_type": "tag", "name": "variants", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    variants: List[VariantInfo] = Field(default_factory=list, description=\"Processed variants\")$/", "language": "Python", "typeref": "typename:List[VariantInfo]", "kind": "variable", "scope": "ImageInfo", "scopeKind": "class"}, {"_type": "tag", "name": "width", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    width: int = Field(..., description=\"Crop width\", gt=0)$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "CropOp", "scopeKind": "class"}, {"_type": "tag", "name": "width", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    width: int = Field(..., description=\"Target width in pixels\", gt=0)$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ResizeOp", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    x: int = Field(..., description=\"Top-left X coordinate\", ge=0)$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "CropOp", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/image-processing-suite-37224-37233/image_processing_backend/src/api/main.py", "pattern": "/^    y: int = Field(..., description=\"Top-left Y coordinate\", ge=0)$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "CropOp", "scopeKind": "class"}], "hash": "0b28c547fc8845474b2216928cb09c66", "format-version": 4, "code-base-name": "image_processing_backend", "filename": "image_processing_backend/src/api/main.py", "fields": [{"name": "META_STORE_PATH = os.path.abspath(os.path.join(os.path.dirname(os.path.abspath(__file__)), \"..\",/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ORIGINALS_DIR = os.path.abspath(os.path.join(STORAGE_ROOT, \"originals\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PROCESSED_DIR = os.path.abspath(os.path.join(STORAGE_ROOT, \"processed\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "STORAGE_ROOT = os.path.join(os.path.dirname(os.path.dirname(os.path.abspath(__file__))), \"..\", \"/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[BlurOp] blur", "scope": "Operations", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[BrightnessOp] brightness", "scope": "Operations", "scopeKind": "class", "description": "unavailable"}, {"name": "str content_type", "scope": "UploadResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[ContrastOp] contrast", "scope": "Operations", "scopeKind": "class", "description": "unavailable"}, {"name": "str created_at", "scope": "VariantInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[CropOp] crop", "scope": "Operations", "scopeKind": "class", "description": "unavailable"}, {"name": "float factor", "scope": "BrightnessOp", "scopeKind": "class", "description": "unavailable"}, {"name": "str filename", "scope": "UploadResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[bool] grayscale", "scope": "Operations", "scopeKind": "class", "description": "unavailable"}, {"name": "int height", "scope": "CropOp", "scopeKind": "class", "description": "unavailable"}, {"name": "str image_id", "scope": "ProcessRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, Any] operations", "scope": "VariantInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "Operations operations", "scope": "ProcessRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "float radius", "scope": "BlurOp", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[ResizeOp] resize", "scope": "Operations", "scopeKind": "class", "description": "unavailable"}, {"name": "int size_bytes", "scope": "UploadResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str variant_id", "scope": "VariantInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "List[VariantInfo] variants", "scope": "ImageInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "int width", "scope": "CropOp", "scopeKind": "class", "description": "unavailable"}, {"name": "int x", "scope": "CropOp", "scopeKind": "class", "description": "unavailable"}, {"name": "int y", "scope": "CropOp", "scopeKind": "class", "description": "unavailable"}]}